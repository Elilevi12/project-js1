<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/memoryGame.css" />
    <title>Document</title>
  </head>
  <body>
    <header></header>
    <main>
      <p></p>
      <button class="buttonNweGame">משחק חדש</button>
      <div class="game">
        <div class="null" id="1">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="2">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="3">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="4">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="5">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="6">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="7">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="8">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="9">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="10">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="11">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="12">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="13">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="14">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="15">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
        <div class="null" id="16">
          <img
            src=""
            alt="imgs"
            width="115px"
            height="115px"
            style="display: none"
          />
        </div>
      </div>
    </main>
    <script>
      let arr = [
        "/img/bee-8709123_1280.jpg",
        "/img/crocus-8586117_1280.jpg",
        "/img/fish-8265114_1280.jpg",
        "/img/leaves-7597975_1280.jpg",
        "/img/orange-parrots-8608540_1280.jpg",
        "/img/rose-7698947_1280.jpg",
        "/img/sun-1758348_1280.jpg",
        "/img/swan-8242931_1280.jpg",
      ];
      let temp1;
      let temp; 
      function f2() {
        //פונקצייה להתחלת משחק
        
        for (let i = 0; i < 16; i++) {
          game.children[i].className = "null";
          game.children[i].children[0].style.display = "none";
          count = 0;
        }

        for (let i = 0; i < 8; i++) {
          let counter = 0;
          while (counter < 2) {
            let num = Math.floor(Math.random() * 16);
            if (game.children[num].className == "null") {
              game.children[num].children[0].setAttribute("src", arr[i]);
              game.children[num].className = `${i}`;
              counter++;
            }
          }
        }
      }
let counterClick=0;
      let count = 0;
      function f1(event) {
      
        if(counterClick==2){
          return
        }
        //פונקציה לניהול המשחק

        let v = event.target;
        if (v.className == "game" || v.tagName == "IMG"||v.className==buttonNweGame) {
          return;
        }
        counterClick++;
        if (count % 2 == 0) {
          temp = event.target.className;
          temp1 = Number(v.id) - 1;
          v.children[0].style.display = "block";
          count++;
        } else {
          v.children[0].style.display = "block";
          console.log(temp);
          console.log(v.className);
          if (temp == v.className) {
            count++;
           counterClick=0;
           return;
          }
          setTimeout(function () {
            const temp2 = Number(v.id - 1);
            game.children[temp2].children[0].style.display = "none";
            game.children[temp1].children[0].style.display = "none";
            count++;
             counterClick=0;
          }, 1000);

        }
       
      }

      const buttonNweGame = document.querySelector(".buttonNweGame");
      buttonNweGame.addEventListener("click", f2);

      const game = document.querySelector(".game");
      game.addEventListener("click", f1);
    </script>
  </body>
</html>
